
<!DOCTYPE html>
<html lang="en">
<head>
  <title>PakPortal</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
   :root {
  /* Enhanced Professional Color Palette */
  --primary: #6366f1;
  --primary-light: #818cf8;
  --primary-dark: #4f46e5;
  --primary-subtle: rgba(99, 102, 241, 0.1);
  
  --accent: #f59e0b;
  --accent-light: #fbbf24;
  --accent-subtle: rgba(245, 158, 11, 0.1);
  
  --success: #10b981;
  --success-light: #34d399;
  --success-subtle: rgba(16, 185, 129, 0.1);
  
  --warning: #f59e0b;
  --warning-light: #fbbf24;
  --warning-subtle: rgba(245, 158, 11, 0.1);
  
  --danger: #ef4444;
  --danger-light: #f87171;
  --danger-subtle: rgba(239, 68, 68, 0.1);
  
  /* Professional Surface Colors */
  --surface-primary: #0f172a;
  --surface-secondary: #1e293b;
  --surface-tertiary: #334155;
  --surface-card: #1e293b;
  --surface-elevated: #334155;
  --surface-hover: #475569;
  
  /* Enhanced Border System */
  --border-primary: #334155;
  --border-secondary: #475569;
  --border-accent: rgba(99, 102, 241, 0.2);
  --border-subtle: rgba(255, 255, 255, 0.05);
  
  /* Professional Typography */
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --text-tertiary: #94a3b8;
  --text-muted: #64748b;
  
  /* Professional Spacing System */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  
  /* Layout Dimensions */
  --header-height: 64px;
  --footer-height: 48px;
  --sidebar-width: 280px;
  --container-max-width: 1200px;
  --card-max-width: 800px;
  
  /* Professional Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-glow: 0 0 0 1px rgba(99, 102, 241, 0.05), 0 1px 3px 0 rgba(99, 102, 241, 0.1);
  
  /* Professional Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  
  /* Professional Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Professional Reset & Base Styles */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 14px;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  background: linear-gradient(135deg, var(--surface-primary) 0%, #0f1629 100%);
  color: var(--text-primary);
  line-height: 1.6;
  overflow-x: hidden;
  min-height: 100vh;
}

/* Professional Layout Container */
#root-app-layout {
  position: relative;
  width: 100vw;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Enhanced Professional Header */
.top-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  background: rgba(30, 41, 59, 0.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-xl);
  z-index: 1000;
  box-shadow: var(--shadow-md);
}

.top-bar .title {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: -0.025em;
}

.top-bar .title .material-icons {
  font-size: 1.75rem;
  color: var(--primary);
}

.exchange-rate {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  margin-left: var(--space-lg);
  padding: var(--space-xs) var(--space-md);
  background: var(--primary-subtle);
  border: 1px solid var(--border-accent);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--primary-light);
}

/* Professional Status Bar */
.status-bar {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.key-short {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  background: var(--surface-card);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  color: var(--text-secondary);
  transition: var(--transition-base);
}

.key-short:hover {
  background: var(--surface-elevated);
  border-color: var(--border-secondary);
}

.delete-btn {
  background: transparent;
  border: none;
  color: var(--danger);
  cursor: pointer;
  padding: var(--space-xs);
  border-radius: var(--radius-sm);
  transition: var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.delete-btn:hover {
  background: var(--danger-subtle);
}

/* Professional Main Content Area */
.main-app-body {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: var(--header-height);
  margin-bottom: var(--footer-height);
  padding: var(--space-2xl) var(--space-lg);
  overflow-y: auto;
  max-width: 100vw;
}

/* Enhanced Professional Balance Cards */
.balances-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-xl);
  width: 100%;
  max-width: var(--container-max-width);
  margin-bottom: var(--space-3xl);
}

.balance-card {
  background: var(--surface-card);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  position: relative;
  transition: var(--transition-base);
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.balance-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--primary);
  transition: var(--transition-base);
}

.balance-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl);
  border-color: var(--border-secondary);
}

.balance-card.spent::before { background: var(--danger); }
.balance-card.inspending::before { background: var(--warning); }
.balance-card.returned::before { background: var(--success); }
.balance-card.available::before { background: var(--primary); }

.balance-label {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: 0.875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-tertiary);
  margin-bottom: var(--space-md);
}

.balance-label .material-icons {
  font-size: 1.25rem;
}

.balance-label.spent, .balance-label.spent .material-icons { color: var(--danger); }
.balance-label.inspending, .balance-label.inspending .material-icons { color: var(--warning); }
.balance-label.returned, .balance-label.returned .material-icons { color: var(--success); }
.balance-label.available, .balance-label.available .material-icons { color: var(--primary); }

.balance-value {
  font-size: 2rem;
  font-weight: 800;
  color: var(--text-primary);
  margin-bottom: var(--space-xs);
  line-height: 1.2;
  letter-spacing: -0.025em;
}

.balance-value-pkr {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-tertiary);
  opacity: 0.8;
}

/* Professional Tab System */
.tabs-row {
  display: flex;
  width: 100%;
  max-width: var(--card-max-width);
  background: var(--surface-card);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-xl) var(--radius-xl) 0 0;
  overflow: hidden;
  box-shadow: var(--shadow-lg);
  margin-bottom: 0;
}

.tab-btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-lg) var(--space-xl);
  background: transparent;
  border: none;
  color: var(--text-tertiary);
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition-base);
  position: relative;
}

.tab-btn::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: transparent;
  transition: var(--transition-base);
}

.tab-btn:hover {
  background: var(--surface-elevated);
  color: var(--text-secondary);
}

.tab-btn.active {
  background: var(--surface-primary);
  color: var(--primary-light);
}

.tab-btn.active::after {
  background: var(--primary);
}

.tab-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 24px;
  padding: 0 var(--space-sm);
  background: var(--danger);
  color: white;
  font-size: 0.75rem;
  font-weight: 700;
  border-radius: 50px;
  margin-left: var(--space-sm);
  box-shadow: var(--shadow-sm);
}

/* Professional Tab Content */
.tab-content {
  width: 100%;
  max-width: var(--card-max-width);
  display: none;
}

.tab-content.active {
  display: block;
}

/* Professional Card Stack */
.vertical-cards-stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-2xl);
  width: 100%;
  padding: var(--space-2xl);
  background: var(--surface-card);
  border: 1px solid var(--border-primary);
  border-top: none;
  border-radius: 0 0 var(--radius-xl) var(--radius-xl);
  box-shadow: var(--shadow-lg);
}

/* Enhanced Professional Cards */
.pro-card {
  background: var(--surface-secondary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-md);
  transition: var(--transition-base);
}

.pro-card:hover {
  box-shadow: var(--shadow-xl);
  border-color: var(--border-secondary);
}

.pro-header {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-xl);
  background: var(--surface-elevated);
  border-bottom: 1px solid var(--border-primary);
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--text-primary);
}

.pro-header .material-icons {
  font-size: 1.5rem;
  color: var(--primary);
}

/* Professional Detail Lists */
.order-details-list,
.product-details-list,
.client-details-list {
  padding: var(--space-xl);
}

.order-row,
.product-row,
.client-row {
  display: flex;
  align-items: flex-start;
  gap: var(--space-xl);
  padding: var(--space-lg) 0;
  border-bottom: 1px solid var(--border-subtle);
}

.order-row:last-child,
.product-row:last-child,
.client-row:last-child {
  border-bottom: none;
}

.order-row dt,
.product-row dt,
.client-row dt {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  min-width: 160px;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.order-row dt .material-icons,
.product-row dt .material-icons,
.client-row dt .material-icons {
  font-size: 1.125rem;
  color: var(--primary);
}

.order-row dd,
.product-row dd,
.client-row dd {
  flex: 1;
  font-size: 1rem;
  font-weight: 500;
  color: var(--text-primary);
  margin: 0;
}

.total-row dt {
  color: var(--accent);
  font-size: 1.125rem;
  font-weight: 800;
}

.total-row dd {
  color: var(--accent);
  font-size: 1.5rem;
  font-weight: 900;
}

/* Professional Image Gallery */
.images-row {
  display: flex;
  gap: var(--space-md);
  flex-wrap: wrap;
  margin-top: var(--space-sm);
}

.product-image {
  width: 100px;
  height: 75px;
  border-radius: var(--radius-lg);
  object-fit: cover;
  border: 2px solid var(--border-primary);
  cursor: pointer;
  transition: var(--transition-base);
  box-shadow: var(--shadow-sm);
}

.product-image:hover {
  border-color: var(--primary);
  box-shadow: var(--shadow-glow);
  transform: scale(1.05);
}

/* Professional Support Section */
.support-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  padding: var(--space-xl);
}

.support-item {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-lg);
  background: var(--surface-primary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-lg);
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-secondary);
  transition: var(--transition-base);
}

.support-item:hover {
  background: var(--surface-elevated);
  border-color: var(--primary);
  color: var(--primary-light);
}

.support-item .material-icons {
  font-size: 1.25rem;
  color: var(--primary);
}

/* Professional Updates Cards */
.updates-tab-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-xl);
  padding: var(--space-2xl);
  background: var(--surface-card);
  border: 1px solid var(--border-primary);
  border-top: none;
  border-radius: 0 0 var(--radius-xl) var(--radius-xl);
  box-shadow: var(--shadow-lg);
}

.update-beautiful-card {
  background: var(--surface-secondary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  transition: var(--transition-base);
  position: relative;
  overflow: hidden;
}

.update-beautiful-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--primary);
  transition: var(--transition-base);
}

.update-beautiful-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl);
  border-color: var(--border-secondary);
}

.update-beautiful-card.success::before { background: var(--success); }
.update-beautiful-card.pending::before { background: var(--warning); }

.update-head-row {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-lg);
  flex-wrap: wrap;
}

.update-date {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  background: var(--primary-subtle);
  border: 1px solid var(--border-accent);
  border-radius: var(--radius-md);
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--primary-light);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.update-status-chip {
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid;
}

.update-status-chip.success {
  background: var(--success-subtle);
  color: var(--success-light);
  border-color: var(--success);
}

.update-status-chip.pending {
  background: var(--warning-subtle);
  color: var(--warning-light);
  border-color: var(--warning);
}

.update-title-row {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
}

.update-icon {
  font-size: 1.5rem;
  color: var(--primary);
}

.update-title {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--text-primary);
  flex: 1;
}

.update-divider {
  border: none;
  border-top: 1px solid var(--border-subtle);
  margin: var(--space-lg) 0;
}

.update-description {
  font-size: 0.875rem;
  line-height: 1.6;
  color: var(--text-secondary);
}

/* Professional Footer */
.footer-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--footer-height);
  background: rgba(30, 41, 59, 0.95);
  backdrop-filter: blur(20px);
  border-top: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  z-index: 1000;
}

/* Professional Modal Styles */
.fullscreen-modal {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.95);
  backdrop-filter: blur(20px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.fullscreen-modal.active {
  display: flex;
}

.fullscreen-img {
  max-width: 80vw;
  max-height: 80vh;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
  object-fit: contain;
}

.close-modal-btn {
  position: absolute;
  top: var(--space-xl);
  right: var(--space-xl);
  width: 48px;
  height: 48px;
  background: rgba(30, 41, 59, 0.9);
  border: 1px solid var(--border-primary);
  border-radius: 50%;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition-base);
  backdrop-filter: blur(10px);
}

.close-modal-btn:hover {
  background: var(--primary);
  border-color: var(--primary);
}

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(20px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.key-modal {
  background: var(--surface-card);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-xl);
  padding: var(--space-2xl);
  min-width: 400px;
  max-width: 90vw;
  box-shadow: var(--shadow-xl);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-lg);
}

.key-modal .material-icons {
  font-size: 3rem;
  color: var(--primary);
  margin-bottom: var(--space-md);
}

.key-modal label {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  text-align: center;
}

.key-modal input[type="text"] {
  width: 100%;
  padding: var(--space-lg);
  background: var(--surface-primary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-lg);
  color: var(--text-primary);
  font-size: 0.875rem;
  font-family: 'JetBrains Mono', monospace;
  transition: var(--transition-base);
  outline: none;
}

.key-modal input[type="text"]:focus {
  border-color: var(--primary);
  box-shadow: var(--shadow-glow);
}

.key-modal button {
  padding: var(--space-lg) var(--space-2xl);
  background: var(--primary);
  border: none;
  border-radius: var(--radius-lg);
  color: white;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition-base);
  box-shadow: var(--shadow-md);
}

.key-modal button:hover {
  background: var(--primary-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

/* Professional Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--surface-primary);
}

::-webkit-scrollbar-thumb {
  background: var(--surface-elevated);
  border-radius: var(--radius-sm);
  border: 2px solid var(--surface-primary);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary);
}

/* Professional Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Professional Responsive Design */
@media (max-width: 1024px) {
  .balances-row {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-lg);
  }
  
  .main-app-body {
    padding: var(--space-xl) var(--space-md);
  }
}

@media (max-width: 768px) {
  .top-bar {
    padding: 0 var(--space-md);
  }
  
  .top-bar .title {
    font-size: 1.125rem;
  }
  
  .exchange-rate {
    display: none;
  }
  
  .balances-row {
    grid-template-columns: 1fr;
    gap: var(--space-md);
  }
  
  .tab-btn {
    padding: var(--space-md);
    font-size: 0.875rem;
  }
  
  .vertical-cards-stack {
    padding: var(--space-lg);
    gap: var(--space-lg);
  }
  
  .pro-header {
    padding: var(--space-lg);
    font-size: 1rem;
  }
  
  .order-details-list,
  .product-details-list,
  .client-details-list {
    padding: var(--space-lg);
  }
  
  .order-row,
  .product-row,
  .client-row {
    flex-direction: column;
    gap: var(--space-sm);
    align-items: flex-start;
  }
  
  .order-row dt,
  .product-row dt,
  .client-row dt {
    min-width: auto;
  }
  
  .key-modal {
    min-width: 300px;
    padding: var(--space-xl);
  }
}

@media (max-width: 480px) {
  .main-app-body {
    margin-bottom: calc(var(--footer-height) + var(--space-md));
  }
  
  .balance-value {
    font-size: 1.5rem;
  }
  
  .tab-content,
  .tabs-row {
    max-width: 100%;
  }
  
  .update-beautiful-card {
    padding: var(--space-lg);
  }
  
  .update-head-row {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-sm);
  }
}
  </style>
</head>
<body>
<div id="root-app-layout">
  <div class="top-bar">
    <div class="title">
      <span class="material-icons" style="font-size:20px;">precision_manufacturing</span>
      PakPortal
      <span class="exchange-rate"><span class="material-icons" style="font-size:13px;vertical-align:middle;"></span>1 PPC = 1000 PKR</span>
    </div>
    <div class="status-bar">
      <span title="Your Key" class="key-short" id="keyShort">
        <span class="material-icons" style="font-size:17px;">vpn_key</span>
        <span id="keyShortValue" style="font-size:13px;">---</span>
        <button class="delete-btn" title="Remove Key" id="deleteKeyBtn">
          <span class="material-icons" style="font-size:16px;">delete</span>
        </button>
      </span>
    </div>
  </div>
  <div class="main-app-body">
    <!-- Balances row in center -->
    <div class="balances-row">
      <div class="balance-card spent">
        <div class="balance-label spent"><span class="material-icons spent">money_off</span>Spent PPC</div>
        <div class="balance-value" id="spentPPC">--</div>
        <div class="balance-value-pkr" id="spentPKR"></div>
      </div>
      <div class="balance-card inspending">
        <div class="balance-label inspending"><span class="material-icons inspending">pending_actions</span>In Spending</div>
        <div class="balance-value" id="spendingPPC">--</div>
        <div class="balance-value-pkr" id="spendingPKR"></div>
      </div>
      <div class="balance-card returned">
        <div class="balance-label returned"><span class="material-icons returned">undo</span>Returned PPC</div>
        <div class="balance-value" id="returnedPPC">--</div>
        <div class="balance-value-pkr" id="returnedPKR"></div>
      </div>
      <div class="balance-card available">
        <div class="balance-label available"><span class="material-icons available">credit_score</span>Available PPC</div>
        <div class="balance-value" id="availablePPC">--</div>
        <div class="balance-value-pkr" id="availablePKR"></div>
      </div>
    </div>
    <!-- Tabbed Interface -->
    <div class="tabs-row" id="tabsRow">
      <button class="tab-btn active" data-tab="information" id="tabInformationBtn">
        <span class="material-icons" style="font-size:18px;vertical-align:middle;">info</span> Information
      </button>
      <button class="tab-btn" data-tab="updates" id="tabUpdatesBtn">
        <span class="material-icons" style="font-size:18px;vertical-align:middle;">mail</span> Messages
        <span class="tab-badge" id="updatesTabBadge">0</span>
      </button>
    </div>
    <div class="tab-content active" id="informationTab">
      <div class="vertical-cards-stack professional-stack" id="mainScrollableContent">
        <!-- Client Info Section as Card -->
        <section class="card-section client-info pro-card">
          <header class="section-title client-details pro-header">
            <span class="material-icons">person</span> Client Info
          </header>
          <div class="client-details-list">
            <dl>
              <div class="client-row">
                <dt><span class="material-icons">person</span> Client</dt>
                <dd>xx</dd>
              </div>
              <div class="client-row">
                <dt><span class="material-icons">person_outline</span> Contact</dt>
                <dd>John Doe</dd>
              </div>
              <div class="client-row">
                <dt><span class="material-icons">email</span> Email</dt>
                <dd>john@example.com</dd>
              </div>
              <div class="client-row">
                <dt><span class="material-icons">call</span> Phone</dt>
                <dd>+123 456 7890</dd>
              </div>
              <div class="client-row">
                <dt><span class="material-icons">account_balance</span> Bank</dt>
                <dd>PK00XXXX000000000000</dd>
              </div>
              <div class="client-row">
                <dt><span class="material-icons">location_on</span> Address</dt>
                <dd>123 Main Street, Lahore, Pakistan</dd>
              </div>
            </dl>
          </div>
        </section>
        <!-- Order Details Section -->
        <section class="card-section order-details pro-card">
          <header class="order-section-header pro-header">
            <span class="material-icons">shopping_cart</span>
            <h3 class="order-section-title">Order Details</h3>
          </header>
          <div class="order-details-list">
            <dl>
              <div class="order-row">
                <dt><span class="material-icons">shopping_cart</span> Product</dt>
                <dd>Mobile Recharge</dd>
              </div>
              <div class="order-row">
                <dt><span class="material-icons">branding_watermark</span> Brand</dt>
                <dd>Jazz Pakistan</dd>
              </div>
              <div class="order-row">
                <dt><span class="material-icons">payments</span> Unit Price</dt>
                <dd>1000 PPC</dd>
              </div>
              <div class="order-row">
                <dt><span class="material-icons">stacked_line_chart</span> Quantity</dt>
                <dd>1 Piece</dd>
              </div>
              <div class="order-row total-row">
                <dt>Total</dt>
                <dd class="total-amount">1000 PPC</dd>
              </div>
            </dl>
          </div>
        </section>
        <!-- Product Details Section -->
        <section class="card-section product-details pro-card">
          <header class="section-title product-details pro-header">
            <span class="material-icons">info</span> Product Details
          </header>
          <div class="product-details-list">
            <dl>
              <div class="product-row">
                <dt><span class="material-icons">shopping_cart</span> Name</dt>
                <dd>Mobile Recharge</dd>
              </div>
              <div class="product-row">
                <dt><span class="material-icons">branding_watermark</span> Brand</dt>
                <dd>Jazz Pakistan</dd>
              </div>
              <div class="product-row">
                <dt><span class="material-icons">payments</span> Price</dt>
                <dd>1000 PPC</dd>
              </div>
              <div class="product-row">
                <dt><span class="material-icons">description</span> Description</dt>
                <dd>Prepaid mobile recharge for Jazz Pakistan numbers with instant topup delivery and support.</dd>
              </div>
              <div class="product-row">
                <dt><span class="material-icons">image</span> Images</dt>
                <dd>
                  <div class="images-row">
                    <img class="product-image" src="https://res.cloudinary.com/de3kzkvhd/image/upload/v1749534470/2pXm5tQ_bynr4g.jpg" alt="Product Image 1">
                    <img class="product-image" src="https://res.cloudinary.com/de3kzkvhd/image/upload/v1749534437/7iXvJCv_dggatx.jpg" alt="Product Image 2">
                  </div>
                </dd>
              </div>
            </dl>
          </div>
        </section>
        <!-- Support Section -->
        <section class="card-section support pro-card">
          <header class="section-title support pro-header">
            <span class="material-icons support">support_agent</span> Support
          </header>
          <ul class="support-list">
            <li class="support-item"><span class="material-icons">build_circle</span> Spareparts</li>
            <li class="support-item"><span class="material-icons">home_repair_service</span> Repairing</li>
            <li class="support-item"><span class="material-icons">menu_book</span> Instructions</li>
          </ul>
        </section>
      </div>
    </div>
    <div class="tab-content" id="updatesTab">
      <div class="updates-tab-list" id="updatesTabList">
        <!-- JS will populate beautiful update cards here -->
      </div>
    </div>
  </div>
  <div class="footer-bar">
    Copyright PakPortal 2025
  </div>
</div>
<!-- Fullscreen Image Modal -->
<div class="fullscreen-modal" id="fullscreenModal">
  <button class="close-modal-btn" id="closeModalBtn" title="Close">
    <span class="material-icons">close</span>
  </button>
  <img class="fullscreen-img" id="fullscreenImg" src="" alt="Full Image">
</div>
<!-- Key Modal Popup -->
<div class="modal-overlay" id="keyModalOverlay" style="display:none;">
  <div class="key-modal">
    <span class="material-icons" style="font-size:24px;">vpn_key</span>
    <label for="keyInput">Enter Your Polygon (Ethereum) Address:</label>
    <input type="text" id="keyInput" placeholder="0x...">
    <button id="saveKeyBtn">Save Key</button>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
<script>
  // Demo addresses, change in production
  const WALLETS = {
    spent:     "0x53d284357ec70ce289d6d64134dfac8e511c8a3d",
    inspending:"0x53d284357ec70ce289d6d64134dfac8e511c8a3d",
    returned:  "0x53d284357ec70ce289d6d64134dfac8e511c8a3d",
    available: null // will use user's input key
  };
  const PPC_TO_PKR = 1000;
  // NFTFAN contract (PPC) on Polygon
  const NFTFAN_CA = "0x2017Fcaea540d2925430586DC92818035Bfc2F50";
  const ERC20_ABI = [
    {"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"type":"function"},
    {"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"type":"function"}
  ];
  const KEY_STORAGE = "PPC-key";
  const web3 = new Web3("https://polygon-rpc.com/");
  const nftfan = new web3.eth.Contract(ERC20_ABI, NFTFAN_CA);

  function formatNumber(numStr, decimals) {
    if (!numStr) return "--";
    try {
      let n = BigInt(numStr);
      let div = BigInt(10) ** BigInt(decimals);
      let w = n / div;
      return w.toLocaleString('en-US');
    } catch {
      return "--";
    }
  }
  function formatPKR(ppc) {
    if (!ppc || isNaN(ppc.replace(/,/g,''))) return "--";
    let num = parseInt(ppc.replace(/,/g,''), 10);
    return (num * PPC_TO_PKR).toLocaleString('en-US') + " PKR";
  }
  function updatePPCBox(box, value) {
    document.getElementById(box).textContent = value;
    document.getElementById(box.replace('PPC','PKR')).textContent = (value !== "--") ? "≈ " + formatPKR(value) : "";
  }
  async function fetchPPC(addr, box) {
    try {
      const [bal, dec] = await Promise.all([
        nftfan.methods.balanceOf(addr).call(),
        nftfan.methods.decimals().call()
      ]);
      let balStr = formatNumber(bal, dec);
      updatePPCBox(box, balStr);
    } catch {
      updatePPCBox(box, "--");
    }
  }
  // Modal for key input
  function showKeyModal() {
    document.getElementById('keyModalOverlay').style.display = 'flex';
    document.body.classList.add("blurred");
    setTimeout(() => { document.getElementById('keyInput').focus(); }, 100);
  }
  function hideKeyModal() {
    document.getElementById('keyModalOverlay').style.display = 'none';
    document.body.classList.remove("blurred");
  }
  function getStoredKey() {
    return localStorage.getItem(KEY_STORAGE);
  }
  function saveKey(addr) {
    localStorage.setItem(KEY_STORAGE, addr);
  }
  function afterKeySet(addr) {
    WALLETS.available = addr;
    document.getElementById('keyShortValue').textContent = addr; // show full key now
    fetchAllBalances();
    document.body.classList.remove("blurred");
  }
  document.getElementById('deleteKeyBtn').onclick = function() {
    localStorage.removeItem(KEY_STORAGE);
    document.getElementById('keyShortValue').textContent = "---";
    showKeyModal();
  };
  document.getElementById('saveKeyBtn').onclick = function() {
    let addr = document.getElementById('keyInput').value.trim();
    if (!/^0x[a-fA-F0-9]{40}$/.test(addr)) {
      alert("Please enter a valid Polygon (Ethereum) address.");
      document.getElementById('keyInput').focus();
      return;
    }
    saveKey(addr);
    hideKeyModal();
    afterKeySet(addr);
  };
  document.getElementById('keyInput').addEventListener('keydown', function(e){
    if (e.key === "Enter") document.getElementById('saveKeyBtn').click();
  });

  // Tabs logic
  document.getElementById('tabInformationBtn').onclick = function() {
    document.getElementById('tabInformationBtn').classList.add('active');
    document.getElementById('tabUpdatesBtn').classList.remove('active');
    document.getElementById('informationTab').classList.add('active');
    document.getElementById('updatesTab').classList.remove('active');
  };
  document.getElementById('tabUpdatesBtn').onclick = function() {
    document.getElementById('tabUpdatesBtn').classList.add('active');
    document.getElementById('tabInformationBtn').classList.remove('active');
    document.getElementById('updatesTab').classList.add('active');
    document.getElementById('informationTab').classList.remove('active');
  };

  // Fullscreen image modal logic
  function showFullscreenImage(src) {
    var modal = document.getElementById('fullscreenModal');
    var img = document.getElementById('fullscreenImg');
    img.src = src;
    modal.classList.add('active');
  }
  function closeFullscreenImage() {
    var modal = document.getElementById('fullscreenModal');
    modal.classList.remove('active');
    document.getElementById('fullscreenImg').src = "";
  }
  document.addEventListener("DOMContentLoaded", function() {
    var images = document.querySelectorAll('.product-image');
    images.forEach(function(img) {
      img.addEventListener('click', function() {
        showFullscreenImage(img.src);
      });
    });
    document.getElementById('closeModalBtn').onclick = closeFullscreenImage;
    document.getElementById('fullscreenModal').onclick = function(e) {
      if (e.target === this) closeFullscreenImage();
    };
    document.getElementById('keyModalOverlay').onclick = function(e) {
      if (e.target === this) return false;
    };
    renderBeautifulUpdatesTab();
    renderUpdatesTabBadge();
  });
  // Fetch all balances for each box
  function fetchAllBalances() {
    fetchPPC(WALLETS.spent, "spentPPC");
    fetchPPC(WALLETS.inspending, "spendingPPC");
    fetchPPC(WALLETS.returned, "returnedPPC");
    fetchPPC(WALLETS.available, "availablePPC");
  }
  // On load, check for key and blur content if not set
  (function() {
    let addr = getStoredKey();
    if (!addr || !/^0x[a-fA-F0-9]{40}$/.test(addr)) {
      showKeyModal();
    } else {
      afterKeySet(addr);
      setInterval(fetchAllBalances, 60000); // every 60 seconds
    }
  })();

  // --- Updates Tab Section ---
  const updates = [
    {
      title: "5000 PPC Credit Bought",
      icon: "check_circle",
      status: "success",
      date: "2025-06-10",
      description: "5,000,000 PKR transferred to bank account of PakPortal agent in Pakistan. Sender: Goaina Steel Plant (XXXXX). Receiver: Usman Nasir (XXXXX)."
    },
	  {
      title: "5000 PPC Credit Bought",
      icon: "check_circle",
      status: "success",
      date: "2025-06-10",
      description: "5,000,000 PKR transferred to bank account of PakPortal agent in Pakistan. Sender: Goaina Steel Plant (XXXXX). Receiver: Usman Nasir (XXXXX)."
    },
	  {
      title: "5000 PPC Credit Bought",
      icon: "check_circle",
      status: "success",
      date: "2025-06-10",
      description: "5,000,000 PKR transferred to bank account of PakPortal agent in Pakistan. Sender: Goaina Steel Plant (XXXXX). Receiver: Usman Nasir (XXXXX)."
    },
	  {
      title: "5000 PPC Credit Bought",
      icon: "check_circle",
      status: "success",
      date: "2025-06-10",
      description: "5,000,000 PKR transferred to bank account of PakPortal agent in Pakistan. Sender: Goaina Steel Plant (XXXXX). Receiver: Usman Nasir (XXXXX)."
    },
	  {
      title: "5000 PPC Credit Bought",
      icon: "check_circle",
      status: "success",
      date: "2025-06-10",
      description: "5,000,000 PKR transferred to bank account of PakPortal agent in Pakistan. Sender: Goaina Steel Plant (XXXXX). Receiver: Usman Nasir (XXXXX)."
    },
	  {
      title: "5000 PPC Credit Bought",
      icon: "check_circle",
      status: "success",
      date: "2025-06-10",
      description: "5,000,000 PKR transferred to bank account of PakPortal agent in Pakistan. Sender: Goaina Steel Plant (XXXXX). Receiver: Usman Nasir (XXXXX)."
    },
    {
      title: "5000 PPC Credit Made Available",
      icon: "check_circle",
      status: "success",
      date: "2025-06-11",
      description: "5000 PPC added to the PakPortal account of Majeed Ali (Manager, Goaina) by PakPortal agent."
    }
  ];

  function renderBeautifulUpdatesTab() {
    const updatesList = document.getElementById('updatesTabList');
    updatesList.innerHTML = "";
    updates.forEach(update => {
      const card = document.createElement('div');
      card.className = "update-beautiful-card " + (update.status === "success" ? "success" : "pending");

      // Date + Status row
      const headRow = document.createElement('div');
      headRow.className = "update-head-row";
      // Date
      const date = document.createElement('span');
      date.className = "update-date";
      date.innerHTML = `<span class="material-icons" style="font-size:13px;vertical-align:middle;margin-right:2px;">calendar_today</span>${update.date}`;
      headRow.appendChild(date);
      // Status chip
      const status = document.createElement('span');
      status.className = "update-status-chip " + (update.status === "success" ? "success" : "pending");
      status.textContent = update.status === "success" ? "Success" : "Pending";
      headRow.appendChild(status);
      card.appendChild(headRow);

      // Divider line
      const divider1 = document.createElement('hr');
      divider1.className = "update-divider";
      card.appendChild(divider1);

      // Title row (with icon)
      const titleRow = document.createElement('div');
      titleRow.className = "update-title-row";
      // Icon
      const icon = document.createElement('span');
      icon.className = "material-icons update-icon";
      icon.textContent = update.icon;
      titleRow.appendChild(icon);
      // Title
      const title = document.createElement('span');
      title.className = "update-title";
      title.textContent = update.title;
      titleRow.appendChild(title);
      card.appendChild(titleRow);

      // Divider line
      const divider2 = document.createElement('hr');
      divider2.className = "update-divider";
      card.appendChild(divider2);

      // Description
      const desc = document.createElement('div');
      desc.className = "update-description";
      desc.textContent = update.description;
      card.appendChild(desc);

      updatesList.appendChild(card);
    });
  }

  function renderUpdatesTabBadge() {
    const badge = document.getElementById('updatesTabBadge');
    badge.textContent = updates.length > 99 ? "99+" : updates.length;
  }
</script>
</body>
</html>
